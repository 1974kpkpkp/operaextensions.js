<!DOCTYPE html>
<html>
<head>
  <title>Opera Extensions API Documentation</title>
  <link rel='stylesheet' href='../resources/markdown8.css'/>
  <meta charset='utf-8'>
  <meta charset='utf-8'>
</head>
<body>

<p><a href="../index.html">&laquo; Documentation Home</a></p>

<h1>opera.defineMagicVariable()</h1>

<p class="note">This documentation relates to Opera's now deprecated .oex Extension API framework for Opera versions &lt;= 12.15 and also provided by our <a href="http://github.com/operasoftware/oex2nex">OEX2NEX shim library</a>.<br/><br/>For the latest Opera Extensions API documentation for Opera versions &gt; 12.15 please consult <a href="http://dev.opera.com/addons/extensions/">the latest Opera Extensions API documentation online</a>.</p>

<h2>Description:</h2>

<p>This method can be used by to override global variables defined by regular scripts in a page.</p>

<h2>Parameters:</h2>

<p>
    <ul>
        <li><code>name</code>: String giving the name of the variable to be overridden.</li>
        <li><code>getter</code>: Function to be run whenever a script attempts to access the contents of the variable. Any value returned by the function is used as the value of the variable. The function receives the current value of the variable as parameter.</li>
        <li><code>setter</code>: Optional function to be run whenever a script attempts to set the value of the variable. The value that the script was attempting to assign to the variable is passed to the function as parameter. If no setter function is required, the value null must be used instead.</li>
    </ul>
</p>

<h2>Syntax:</h2>

<p><code>void defineMagicVariable (&lt;DOMString&gt; name, &lt;Function&gt; getter, &lt;Function&gt; setter)</code></p>

<h2>Example:</h2>

<pre><code>window.opera.defineMagicVariable('isGoodBrowser', function (curVal) {
  return true;
}, function (newVal) {
  if (!newVal) {
    window.status = 'Repairing script';
  }
});</code></pre>


</body>
</html>