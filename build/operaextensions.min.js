// operaextensions.min.js - http://github.com/richtr/operaextensions.js
'use strict';(function(u){var q=u.opera||{REVISION:"1"},f=q.extension=q.extension||{},p=q.contexts=q.contexts||{};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}};var k=function(a,d){var b=document.createEvent("Event");b.initEvent(a,!0,!0);for(var c in d)b[c]=d[c];return b},n=this.RSVP={},j="undefined"!==typeof window?window:{},j=j.MutationObserver||j.WebKitMutationObserver;if("undefined"!==typeof process)j=function(a,d){process.nextTick(function(){a.call(d)})};
else if(j){var s=[],j=new j(function(){var a=s.slice();s=[];a.forEach(function(a){a[0].call(a[1])})}),v=document.createElement("div");j.observe(v,{attributes:!0});j=function(a,d){s.push([a,d]);v.setAttribute("drainQueue","drainQueue")}}else j=function(a,d){setTimeout(function(){a.call(d)},1)};n.async=j;var x=n.Event=function(a,d){this.type=a;for(var b in d)d.hasOwnProperty(b)&&(this[b]=d[b])},w=function(a,d){for(var b=0,c=a.length;b<c;b++)if(a[b][0]===d)return b;return-1},t=function(a){var d=a._promiseCallbacks;
d||(d=a._promiseCallbacks={});return d},j=n.EventTarget={mixin:function(a){a.on=this.on;a.off=this.off;a.trigger=this.trigger;return a},on:function(a,d,b){var c=t(this),e,b=b||this;(e=c[a])||(e=c[a]=[]);-1===w(e,d)&&e.push([d,b])},off:function(a,d){var b=t(this);if(d){var b=b[a],c=w(b,d);-1!==c&&b.splice(c,1)}else b[a]=[]},trigger:function(a,d){var b,c,e,f;if(b=t(this)[a])for(var i=0,h=b.length;i<h;i++)c=b[i],e=c[0],c=c[1],"object"!==typeof d&&(d={detail:d}),f=new x(a,d),e.call(c,f)}},r=n.Promise=
function(){this.on("promise:resolved",function(a){this.trigger("success",{detail:a.detail})},this);this.on("promise:failed",function(a){this.trigger("error",{detail:a.detail})},this)};n.invokeCallback=function(a,d,b,c){var e,f;if(b)try{e=b(c.detail)}catch(i){f=i}else e=c.detail;if(e instanceof r)e.then(function(a){d.resolve(a)},function(a){d.reject(a)});else if(b&&e)d.resolve(e);else if(f)d.reject(f);else d[a](e)};r.prototype={then:function(a,d){var b=new r;this.on("promise:resolved",function(c){n.invokeCallback("resolve",
b,a,c)});this.on("promise:failed",function(a){n.invokeCallback("reject",b,d,a)});return b},resolve:function(a){n.async(function(){this.trigger("promise:resolved",{detail:a})},this);this.resolve=function(){};this.reject=function(){}},reject:function(a){n.async(function(){this.trigger("promise:failed",{detail:a})},this);this.resolve=function(){};this.reject=function(){}}};j.mixin(r.prototype);var h=function(){RSVP.Promise.call(this);var a=this;this._queue=[];this.resolved=!1;this.on("promise:resolved",
function(){a.resolved=!0;a.dequeue()})};h.prototype=Object.create(RSVP.Promise.prototype);h.prototype.addEventListener=h.prototype.on;h.prototype.removeEventListener=h.prototype.off;h.prototype.fireEvent=function(a){var d=a.type;"function"===typeof this["on"+d.toLowerCase()]&&this["on"+d.toLowerCase()].call(this,a);this.trigger(d,a)};h.prototype.enqueue=function(){if(!(1>arguments.length)){var a=arguments[0],d=[];if(1<arguments.length)for(var b=1,c=arguments.length;b<c;b++)d.push(arguments[b]);this._queue.push({action:a,
args:d})}};h.prototype.dequeue=function(){var a=this._queue[0];a&&(this._queue.splice(0,1),this[a.action]&&this[a.action].apply(this,a.args))};f.BrowserWindowsManager=function(){h.call(this);var a=this;this[0]=new f.BrowserWindow;this.length=1;this._lastFocusedWindow=this[0];chrome.windows.getAll({populate:!0},function(d){var b=[];if(0<d.length){for(var c in d[0])a[0].properties[c]=d[0][c];for(var e=[],g=0,i=d[0].tabs.length;g<i;g++)e[g]=new f.BrowserTab(d[0].tabs[g],a[0]);a[0].tabs.replaceTabs(e);
b=b.concat(e)}c=1;for(var h=d.length;c<h;c++){a[c]=new f.BrowserWindow(d[c]);a.length=c+1;e=[];g=0;for(i=d[c].tabs.length;g<i;g++)e[g]=new f.BrowserTab(d[c].tabs[g],a[c]);a[c].tabs.replaceTabs(e);b=b.concat(e)}f.tabs.replaceTabs(b);chrome.windows.getLastFocused({populate:!1},function(c){for(var d=0,b=a.length;d<b;d++)if(a[d].properties.id===c.id){a._lastFocusedWindow=a[d];break}});a.resolve();f.tabs.resolve();c=0;for(h=a.length;c<h;c++){a[c].resolve();a[c].tabs.resolve();g=0;for(i=a[c].tabs.length;g<
i;g++)a[c].tabs[g].resolve()}});chrome.windows.onCreated.addListener(function(d){window.setTimeout(function(){for(var b=!1,c=0,e=a.length;c<e;c++)if(a[c].properties.id==d.id){b=!0;break}if(!b){b=new f.BrowserWindow(d);e=[];for(c in d.tabs){var g=new f.BrowserTab(d.tabs[c],b);e.push(g)}b.tabs.replaceTabs(e);a[a.length]=b;a.length+=1;b.resolve();b.tabs.resolve();c=0;for(e=b.tabs.length;c<e;c++)b.tabs[c].resolve();a.fireEvent(new k("create",{browserWindow:b}))}},200)});chrome.windows.onRemoved.addListener(function(d){for(var b=
-1,c=0,e=a.length;c<e;c++)if(a[c].properties.id==d){b=c;break}if(-1<b){a[b].fireEvent(new k("close",{browserWindow:a[b]}));a.fireEvent(new k("close",{browserWindow:a[b]}));c=b;for(e=a.length;c<e;c++)a[c+1]&&(a[c]=a[c+1]);delete a[a.length-1];a.length-=1}});chrome.windows.onFocusChanged.addListener(function(d){for(var b=0,c=a.length;b<c;b++)if(a[b].properties.id==d){a._lastFocusedWindow=a[b];break}})};f.BrowserWindowsManager.prototype=Object.create(h.prototype);f.BrowserWindowsManager.prototype.create=
function(a,d,b){var d=d||{},c=b||new f.BrowserWindow(d);if(!this.resolved)return this.enqueue("create",a,d,c),c;d.incognito=d.private||!1;var e=this;chrome.windows.create(d,function(d){for(var b in d)c.properties[b]=d[b];var h=[];if(d.tabs){b=0;for(var j=d.tabs.length;b<j;b++){var l=new f.BrowserTab(d.tabs[b],c);h.push(l)}}c.tabs.replaceTabs(h);e[e.length]=c;e.length+=1;c.resolve();c.tabs.resolve();if(a)for(b in a)a[b]instanceof f.BrowserTab?function(a){chrome.tabs.move(a.properties.id,{index:-1,
windowId:d.id},function(d){for(var c in d)a.properties[c]=d[c];a.resolve()})}(a[b]):a[b]instanceof f.BrowserTabGroup||function(a){var b=new f.BrowserTab(a,c);chrome.tabs.create(b.properties,{index:-1,windowId:d.id},function(a){for(var d in a)b.properties[d]=a[d];b.resolve()});c.tabs.addTabs([b])}(a[b]);e.fireEvent(new k("create",{browserWindow:c}));e.dequeue()});return c};f.BrowserWindowsManager.prototype.getAll=function(){for(var a=[],d=0,b=this.length;d<b;d++)a[d]=this[d];return a};f.BrowserWindowsManager.prototype.getLastFocused=
function(){return this._lastFocusedWindow};f.BrowserWindowsManager.prototype.close=function(a){chrome.windows.remove(a.properties.id,function(){a.properties.closed=!0;a.dequeue()})};f.BrowserWindow=function(a){h.call(this);this.properties=a||{};this._parent=null;this._tabGroups=[];this._operaId=Math.floor(1E16*Math.random());this.tabs=new f.BrowserTabsManager(this)};f.BrowserWindow.prototype=Object.create(h.prototype);f.BrowserWindow.prototype.__defineGetter__("id",function(){return this._operaId});
f.BrowserWindow.prototype.__defineGetter__("closed",function(){return this.properties.closed||!1});f.BrowserWindow.prototype.__defineGetter__("focused",function(){return this.properties.focused||!1});f.BrowserWindow.prototype.__defineGetter__("private",function(){return this.properties.incognito||!1});f.BrowserWindow.prototype.__defineGetter__("parent",function(){return this._parent});f.BrowserWindow.prototype.insert=function(a,d){if(!this.resolved||this._parent&&!this._parent.resolved||!a.resolved||
d&&!d.resolved)this.enqueue("insert",a,d);else{if(!0===this.closed)throw{name:"Invalid State Error",message:"Current window is in the closed state and therefore is invalid"};var b={windowId:this.properties.id};if(d&&d instanceof f.BrowserTab){if(!0===d.closed)throw{name:"Invalid State Error",message:"'child' attribute is in the closed state and therefore is invalid"};if(d._windowParent&&!0===d._windowParent.closed)throw{name:"Invalid State Error",message:"Parent window of 'child' attribute is in the closed state and therefore is invalid"};
b.windowId=d._windowParent?d._windowParent.properties.id:b.windowId;b.index=d.position}if(a instanceof f.BrowserTab){var c=this;chrome.tabs.move(a.properties.id,b,function(){c.dequeue()})}}};f.BrowserWindow.prototype.focus=function(){!this.resolved||this._parent&&!this._parent.resolved?this.enqueue("focus"):chrome.windows.update(this.properties.id,{focused:!0},function(){this.dequeue()})};f.BrowserWindow.prototype.update=function(a){if(!this.resolved||this._parent&&!this._parent.resolved)this.enqueue("update",
a);else{for(var d in a)this.properties[d]=a[d];chrome.windows.update(this.properties.id,a,function(){this.dequeue()})}};f.BrowserWindow.prototype.close=function(){!this.resolved||this._parent&&!this._parent.resolved?this.enqueue("close"):f.windows.close(this)};f.BrowserTabsManager=function(a){h.call(this);this.length=0;this._lastFocusedTab=null;this._parent=a;this.replaceTabs=function(a){for(var b=0,c=this.length;b<c;b++)delete this[b];b=this.length=0;for(c=a.length;b<c;b++)this!==f.tabs&&(a[b].properties.index=
b),a[b].properties.closed=!1,this[b]=a[b];this.length=a.length};this.addTabs=function(a,b){for(var c=[],e=0,g=this.length;e<g;e++)c[e]=this[e];e=[b||c.length-1,0].concat(a);Array.prototype.splice.apply(c,e);e=0;for(g=c.length;e<g;e++)this!==f.tabs&&(c[e].properties.index=e),c[e].properties.closed=!1,this[e]=c[e];this.length=c.length};this.removeTab=function(a){for(var b=this.length,c=[],e=-1,g=0,i=this.length;g<i;g++)c[g]=this[g],c[g].id==a.id&&(e=g);-1<e&&c.splice(e,1);a.properties.closed=!0;a._windowParent=
null;g=0;for(i=c.length;g<i;g++)this!==f.tabs&&(c[g].properties.index=g),this[g]=c[g];this.length=c.length;if(b>this.length){g=this.length;for(i=b;g<i;g++)delete this[g]}}};f.BrowserTabsManager.prototype=Object.create(h.prototype);f.BrowserTabsManager.prototype.create=function(a,d,b){var a=a||{},c=b||new f.BrowserTab;if(!this.resolved||this._parent&&!this._parent.resolved)return this.enqueue("create",a,d,c),c;a.pinned=a.locked||!1;a.active=a.focused||!1;delete a.focused;if(this._parent&&!0===this._parent.closed)throw{name:"Invalid State Error",
message:"Parent window is in the closed state and therefore is invalid"};a.windowId=this._parent?this._parent.properties.id:null;if(d&&d instanceof f.BrowserTab){if(!0===d.closed)throw{name:"Invalid State Error",message:"'before' attribute is in the closed state and therefore is invalid"};if(d._windowParent&&!0===d._windowParent.closed)throw{name:"Invalid State Error",message:"Parent window of 'before' attribute is in the closed state and therefore is invalid"};a.windowId=d._windowParent?d._windowParent.properties.id:
a.windowId;a.index=d.position}var e=this;chrome.tabs.create(a,function(a){for(var b in a)c.properties[b]=a[b];var d=!0;if(a.windowId){var h=q.extension.windows;b=0;for(var j=h.length;b<j;b++)if(h[b].properties.id===a.windowId){d=!1;c._windowParent=h[b];break}}d&&(c._windowParent=f.windows.getLastFocused());e.addTabs([c],c.properties.index);e!==f.tabs&&f.tabs.addTabs([c]);c.resolve(a);e.fireEvent(new k("create",{tab:c,prevWindow:c._windowParent,prevTabGroup:null,prevPosition:-1}));e.dequeue()});return c};
f.BrowserTabsManager.prototype.getAll=function(){for(var a=[],d=0,b=this.length;d<b;d++)a[d]=this[d];return a};f.BrowserTabsManager.prototype.getSelected=function(){return this._lastFocusedTab};f.BrowserTabsManager.prototype.getFocused=f.BrowserTabsManager.prototype.getSelected;f.BrowserTabsManager.prototype.close=function(a){if(a)if(!this.resolved||this._parent&&!this._parent.resolved||!a.resolved)this.enqueue("close",a);else{var d=this;chrome.tabs.remove(a.properties.id,function(){a.dequeue();d.dequeue()})}};
f.RootBrowserTabsManager=function(){f.BrowserTabsManager.call(this);var a=this;chrome.tabs.onCreated.addListener(function(d){window.setTimeout(function(){for(var b=!1,c=0,e=a.length;c<e;c++)if(a[c].properties.id==d.id){b=!0;break}if(!b){for(var b=new f.BrowserTab(d),g=!0,i=q.extension.windows,c=0,e=i.length;c<e;c++)if(i[c].properties.id==d.windowId){g=!1;b._windowParent=i[c];break}g&&(b._windowParent=f.windows.getLastFocused());b._windowParent.tabs.addTabs([b],b.properties.index);b._windowParent.tabs.fireEvent(new k("create",
{tab:b,prevWindow:b._windowParent,prevTabGroup:null,prevPosition:NaN}));a.addTabs([b]);b.resolve();a.fireEvent(new k("create",{tab:b,prevWindow:b._windowParent,prevTabGroup:null,prevPosition:NaN}))}},200)});chrome.tabs.onRemoved.addListener(function(d){for(var b=-1,c=0,e=a.length;c<e;c++)if(a[c].properties.id==d){b=c;break}-1<b&&(b=(d=a[b])?d._windowParent:null,c=d?d.position:NaN,b&&b.tabs.removeTab(d),a.removeTab(d),d.fireEvent(new k("close",{tab:d,prevWindow:b,prevTabGroup:null,prevPosition:c})),
b&&b.tabs.fireEvent(new k("close",{tab:d,prevWindow:b,prevTabGroup:null,prevPosition:c})),a.fireEvent(new k("close",{tab:d,prevWindow:b,prevTabGroup:null,prevPosition:c})))});chrome.tabs.onUpdated.addListener(function(d,b){for(var c=-1,e=0,f=a.length;e<f;e++)if(a[e].properties.id==d){c=e;break}if(!(0>c)){c=a[c];for(e in b)c.properties[e]=b[e];if(c._windowParent){for(var i=-1,e=0,f=c._windowParent.tabs.length;e<f;e++)if(c._windowParent.tabs[e].properties.id==d){i=e;break}if(-1<i)for(e in b)c._windowParent.tabs[i].properties[e]=
b[e]}}});chrome.tabs.onMoved.addListener(function(d,b){for(var c=-1,e=0,g=a.length;e<g;e++)if(a[e].properties.id==d){c=e;break}if(!(0>c)){var i=(c=a[c])?c._windowParent:null;if(c){if(i){for(var h=-1,e=0,g=i.tabs.length;e<g;e++)if(i.tabs[e].properties.id==d){h=e;break}if(-1<h){e=h;for(g=i.tabs.length;e<g;e++)i.tabs[e+1]&&(i.tabs[e]=i.tabs[e+1]);delete i.tabs[c._windowParent.length-1];i.tabs.length-=1}}e=0;for(g=f.windows.length;e<g;e++)if(f.windows[e].properties.id==b.windowId){f.windows[e].tabs.addTabs([c],
b.toIndex);c._windowParent=f.windows[e];break}c.fireEvent(new k("move",{tab:c,prevWindow:i,prevTabGroup:null,prevPosition:b.fromIndex}));a.fireEvent(new k("move",{tab:c,prevWindow:i,prevTabGroup:null,prevPosition:b.fromIndex}))}}});chrome.tabs.onHighlighted.addListener(function(a){for(var b=0,c=f.windows.length;b<c;b++)for(var e=0,g=f.windows[b].tabs.length;e<g;e++)for(var i=0,h=a.tabIds.length;i<h;i++)f.windows[b].tabs[e].properties.active=f.windows[b]==a.windowId&&f.windows[b].tabs[e].properties.id==
a.tabIds[i]?!0:!1})};f.RootBrowserTabsManager.prototype=Object.create(f.BrowserTabsManager.prototype);f.BrowserTab=function(a,d){h.call(this);this.properties=a||{};this._windowParent=d;this._operaId=Math.floor(1E16*Math.random())};f.BrowserTab.prototype=Object.create(h.prototype);f.BrowserTab.prototype.__defineGetter__("id",function(){return this._operaId});f.BrowserTab.prototype.__defineGetter__("closed",function(){return this.properties.closed||!1});f.BrowserTab.prototype.__defineGetter__("locked",
function(){return this.properties.pinned||!1});f.BrowserTab.prototype.__defineGetter__("focused",function(){return this.properties.active||!1});f.BrowserTab.prototype.__defineGetter__("selected",function(){return this.properties.active||!1});f.BrowserTab.prototype.__defineGetter__("private",function(){return this.properties.incognito||!1});f.BrowserTab.prototype.__defineGetter__("faviconUrl",function(){return this.properties.closed?"":this.properties.favIconUrl||""});f.BrowserTab.prototype.__defineGetter__("title",
function(){return this.properties.closed?"":this.properties.title||""});f.BrowserTab.prototype.__defineGetter__("url",function(){return this.properties.closed?"":this.properties.url||""});f.BrowserTab.prototype.__defineGetter__("readyState",function(){return this.properties.status||"loading"});f.BrowserTab.prototype.__defineGetter__("browserWindow",function(){return this._windowParent});f.BrowserTab.prototype.__defineGetter__("tabGroup",function(){return null});f.BrowserTab.prototype.__defineGetter__("position",
function(){return this.properties.index||NaN});f.BrowserTab.prototype.close=function(){f.tabs.close(this)};f.BrowserTab.prototype.focus=function(){if(!this.resolved||this._windowParent&&!this._windowParent.resolved||this._windowParent&&this._windowParent._parent&&!this._windowParent._parent.resolved)this.enqueue("focus");else{var a=this;chrome.tabs.update(this.properties.id,{active:!0},function(){a.dequeue()})}};f.BrowserTab.prototype.update=function(a){if(!this.resolved||this._windowParent&&!this._windowParent.resolved||
this._windowParent&&this._windowParent._parent&&!this._windowParent._parent.resolved)this.enqueue("update",a);else{for(var d in a)this.properties[d]=a[d];a.active=a.focused||!1;a.pinned=a.locked||!1;delete a.focused;var b=this;chrome.tabs.update(this.properties.id,a,function(){b.dequeue()})}};f.BrowserTab.prototype.refresh=function(){};f.windows=f.windows||new f.BrowserWindowsManager;f.tabs=f.tabs||new f.RootBrowserTabsManager;p.ToolbarContext=function(){h.call(this);this.resolve();chrome.browserAction.onClicked.addListener(function(){this[0]&&
this[0].fireEvent(new k("click",{}));this.fireEvent(new k("click",{}))}.bind(this))};p.ToolbarContext.prototype=Object.create(h.prototype);p.ToolbarContext.prototype.createItem=function(a){return new l(a)};p.ToolbarContext.prototype.addItem=function(a){a&&a instanceof l&&(this[0]=a,this.length=1,a.resolve(),a.badge.resolve(),a.popup.resolve(),chrome.browserAction.enable())};p.ToolbarContext.prototype.removeItem=function(a){a&&a instanceof l&&(this[0]&&this[0]===a)&&(delete this[0],this.length=0,chrome.browserAction.disable(),
a.fireEvent(new k("remove",{})),this.fireEvent(new k("remove",{})))};var m=function(a){h.call(this);this.properties={};this.properties.textContent=a.textContent;this.properties.backgroundColor=a.backgroundColor;this.properties.color=a.color;this.properties.display=a.display;this.enqueue("apply")};m.prototype=Object.create(h.prototype);m.prototype.apply=function(){chrome.browserAction.setBadgeBackgroundColor({color:this.backgroundColor});"block"===this.display?chrome.browserAction.setBadgeText({text:this.textContent}):
chrome.browserAction.setBadgeText({text:""})};m.prototype.__defineGetter__("textContent",function(){return this.properties.textContent});m.prototype.__defineSetter__("textContent",function(a){this.properties.textContent=""+a;this.resolved&&"block"===this.properties.display&&chrome.browserAction.setBadgeText({text:""+a})});m.prototype.__defineGetter__("backgroundColor",function(){return this.properties.backgroundColor});m.prototype.__defineSetter__("backgroundColor",function(a){this.properties.backgroundColor=
""+a;this.resolved&&chrome.browserAction.setBadgeBackgroundColor({color:""+a})});m.prototype.__defineGetter__("color",function(){return this.properties.color});m.prototype.__defineSetter__("color",function(a){this.properties.color=""+a});m.prototype.__defineGetter__("display",function(){return this.properties.display});m.prototype.__defineSetter__("display",function(a){"block"===(""+a).toLowerCase()?(this.properties.display="block",this.resolved&&chrome.browserAction.setBadgeText({text:this.properties.textContent})):
(this.properties.display="none",this.resolved&&chrome.browserAction.setBadgeText({text:""}))});var o=function(a){h.call(this);this.properties={};this.properties.href=a.href||"";this.properties.width=a.width;this.properties.height=a.height;this.enqueue("apply")};o.prototype=Object.create(h.prototype);o.prototype.apply=function(){chrome.browserAction.setPopup({popup:this.href})};o.prototype.__defineGetter__("href",function(){return this.properties.href});o.prototype.__defineSetter__("href",function(a){this.properties.href=
""+a;this.resolved&&chrome.browserAction.setPopup({popup:""+a})});o.prototype.__defineGetter__("width",function(){return this.properties.width});o.prototype.__defineSetter__("width",function(a){this.properties.width=a});o.prototype.__defineGetter__("height",function(){return this.properties.height});o.prototype.__defineSetter__("height",function(a){this.properties.height=a});var l=function(a){h.call(this);this.properties={};this.properties.disabled=a.disabled||!1;this.properties.title=a.title||"";
this.properties.icon=a.icon||"";this.properties.popup=new o(a.popup||{});this.properties.badge=new m(a.badge||{});this.enqueue("apply")};l.prototype=Object.create(h.prototype);l.prototype.apply=function(){!0===this.disabled?chrome.browserAction.disable():chrome.browserAction.enable();chrome.browserAction.setTitle({title:this.title});chrome.browserAction.setIcon({path:this.icon})};l.prototype.__defineGetter__("disabled",function(){return this.properties.disabled});l.prototype.__defineSetter__("disabled",
function(a){this.properties.disabled!==a&&(!0===a||"true"===a||1===a||"1"===a?(this.properties.disabled=!0,this.resolved&&chrome.browserAction.disable()):(this.properties.disabled=!1,this.resolved&&chrome.browserAction.enable()))});l.prototype.__defineGetter__("title",function(){return this.properties.title});l.prototype.__defineSetter__("title",function(a){this.properties.title=""+a;this.resolved&&chrome.browserAction.setTitle({title:this.title})});l.prototype.__defineGetter__("icon",function(){return this.properties.icon});
l.prototype.__defineSetter__("icon",function(a){this.properties.icon=""+a;this.resolved&&chrome.browserAction.setIcon({path:this.icon})});l.prototype.__defineGetter__("popup",function(){return this.properties.popup});l.prototype.__defineGetter__("badge",function(){return this.properties.badge});p.toolbar=p.toolbar||new p.ToolbarContext;u.opera=q})(window);
