// operaextensions.min.js - http://github.com/richtr/operaextensions.js
'use strict';(function(t){var p=t.opera||{REVISION:"1"},b=p.extension=p.extension||{},l=p.contexts=p.contexts||{};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}};b.Event=function(a,e){var c=document.createEvent("Event");c.initEvent(a,!0,!0);for(var d in e)c[d]=e[d];return c};var m=b.RSVP={},i="undefined"!==typeof window?window:{},i=i.MutationObserver||i.WebKitMutationObserver;if("undefined"!==typeof process)i=function(a,e){process.nextTick(function(){a.call(e)})};
else if(i){var r=[],i=new i(function(){var a=r.slice();r=[];a.forEach(function(a){a[0].call(a[1])})}),u=document.createElement("div");i.observe(u,{attributes:!0});i=function(a,e){r.push([a,e]);u.setAttribute("drainQueue","drainQueue")}}else i=function(a,e){setTimeout(function(){a.call(e)},1)};m.async=i;var w=m.Event=function(a,e){this.type=a;for(var c in e)e.hasOwnProperty(c)&&(this[c]=e[c])},v=function(a,e){for(var c=0,d=a.length;c<d;c++)if(a[c][0]===e)return c;return-1},s=function(a){var e=a._promiseCallbacks;
e||(e=a._promiseCallbacks={});return e},i=m.EventTarget={mixin:function(a){a.on=this.on;a.off=this.off;a.trigger=this.trigger;return a},on:function(a,e,c){var d=s(this),b,c=c||this;(b=d[a])||(b=d[a]=[]);-1===v(b,e)&&b.push([e,c])},off:function(a,e){var c=s(this);if(e){var c=c[a],d=v(c,e);-1!==d&&c.splice(d,1)}else c[a]=[]},trigger:function(a,e){var c,d,b,g;if(c=s(this)[a])for(var h=0,o=c.length;h<o;h++)d=c[h],b=d[0],d=d[1],"object"!==typeof e&&(e={detail:e}),g=new w(a,e),b.call(d,g)}},q=m.Promise=
function(){this.on("promise:resolved",function(a){this.trigger("success",{detail:a.detail})},this);this.on("promise:failed",function(a){this.trigger("error",{detail:a.detail})},this)};m.invokeCallback=function(a,e,c,d){var b,g;if(c)try{b=c(d.detail)}catch(h){g=h}else b=d.detail;if(b instanceof q)b.then(function(a){e.resolve(a)},function(a){e.reject(a)});else if(c&&b)e.resolve(b);else if(g)e.reject(g);else e[a](b)};q.prototype={then:function(a,e){var b=new q;this.on("promise:resolved",function(d){m.invokeCallback("resolve",
b,a,d)});this.on("promise:failed",function(a){m.invokeCallback("reject",b,e,a)});return b},resolve:function(a){m.async(function(){this.trigger("promise:resolved",{detail:a})},this);this.resolve=function(){};this.reject=function(){}},reject:function(a){m.async(function(){this.trigger("promise:failed",{detail:a})},this);this.resolve=function(){};this.reject=function(){}}};i.mixin(q.prototype);b.Promise=function(){b.RSVP.Promise.call(this);var a=this;this._queue=[];this.resolved=!1;this.on("promise:resolved",
function(){a.resolved=!0;a.dequeue()})};b.Promise.prototype=Object.create(b.RSVP.Promise.prototype);b.Promise.prototype.addEventListener=b.Promise.prototype.on;b.Promise.prototype.removeEventListener=b.Promise.prototype.off;b.Promise.prototype.fireEvent=function(a){var b=a.type;"function"===typeof this["on"+b.toLowerCase()]&&this["on"+b.toLowerCase()].call(this,a);this.trigger(b,a)};b.Promise.prototype.enqueue=function(){if(!(1>arguments.length)){var a=arguments[0],b=[];if(1<arguments.length)for(var c=
1,d=arguments.length;c<d;c++)b.push(arguments[c]);this._queue.push({action:a,args:b})}};b.Promise.prototype.dequeue=function(){var a=this._queue[0];a&&(this._queue.splice(0,1),this[a.action]&&this[a.action].apply(this,a.args))};b.BrowserWindowsManager=function(){b.Promise.call(this);var a=this;this[0]=new b.BrowserWindow;this.length=1;this._lastFocusedWindow=this[0];chrome.windows.getAll({populate:!0},function(e){var c=[];if(0<e.length){for(var d in e[0])a[0].properties[d]=e[0][d];for(var f=[],g=
0,h=e[0].tabs.length;g<h;g++)f[g]=new b.BrowserTab(e[0].tabs[g],a[0]);a[0].tabs.replaceTabs(f);c=c.concat(f)}d=1;for(var o=e.length;d<o;d++){a[d]=new b.BrowserWindow(e[d]);a.length=d+1;f=[];g=0;for(h=e[d].tabs.length;g<h;g++)f[g]=new b.BrowserTab(e[d].tabs[g],a[d]);a[d].tabs.replaceTabs(f);c=c.concat(f)}b.tabs.replaceTabs(c);chrome.windows.getLastFocused({populate:!1},function(b){for(var d=0,e=a.length;d<e;d++)if(a[d].properties.id===b.id){a._lastFocusedWindow=a[d];break}});a.resolve();b.tabs.resolve();
d=0;for(o=a.length;d<o;d++){a[d].resolve();a[d].tabs.resolve();g=0;for(h=a[d].tabs.length;g<h;g++)a[d].tabs[g].resolve()}});chrome.windows.onCreated.addListener(function(e){window.setTimeout(function(){for(var c=!1,d=0,f=a.length;d<f;d++)if(a[d].properties.id==e.id){c=!0;break}if(!c){c=new b.BrowserWindow(e);f=[];for(d in e.tabs){var g=new b.BrowserTab(e.tabs[d],c);f.push(g)}c.tabs.replaceTabs(f);a[a.length]=c;a.length+=1;c.resolve();c.tabs.resolve();d=0;for(f=c.tabs.length;d<f;d++)c.tabs[d].resolve();
a.fireEvent(new b.Event("create",{browserWindow:c}))}},200)});chrome.windows.onRemoved.addListener(function(e){for(var c=-1,d=0,f=a.length;d<f;d++)if(a[d].properties.id==e){c=d;break}if(-1<c){a[c].fireEvent(new b.Event("close",{browserWindow:a[c]}));a.fireEvent(new b.Event("close",{browserWindow:a[c]}));d=c;for(f=a.length;d<f;d++)a[d+1]&&(a[d]=a[d+1]);delete a[a.length-1];a.length-=1}});chrome.windows.onFocusChanged.addListener(function(b){for(var c=0,d=a.length;c<d;c++)if(a[c].properties.id==b){a._lastFocusedWindow=
a[c];break}})};b.BrowserWindowsManager.prototype=Object.create(b.Promise.prototype);b.BrowserWindowsManager.prototype.create=function(a,e,c){var e=e||{},d=c||new b.BrowserWindow(e);if(!this.resolved)return this.enqueue("create",a,e,d),d;e.incognito=e.private||!1;var f=this;chrome.windows.create(e,function(e){for(var c in e)d.properties[c]=e[c];var o=[];if(e.tabs){c=0;for(var i=e.tabs.length;c<i;c++){var j=new b.BrowserTab(e.tabs[c],d);o.push(j)}}d.tabs.replaceTabs(o);f[f.length]=d;f.length+=1;d.resolve();
d.tabs.resolve();if(a)for(c in a)a[c]instanceof b.BrowserTab?function(a){chrome.tabs.move(a.properties.id,{index:-1,windowId:e.id},function(b){for(var d in b)a.properties[d]=b[d];a.resolve()})}(a[c]):a[c]instanceof b.BrowserTabGroup||function(a){var c=new b.BrowserTab(a,d);chrome.tabs.create(c.properties,{index:-1,windowId:e.id},function(a){for(var b in a)c.properties[b]=a[b];c.resolve()});d.tabs.addTabs([c])}(a[c]);f.fireEvent(new b.Event("create",{browserWindow:d}));f.dequeue()});return d};b.BrowserWindowsManager.prototype.getAll=
function(){for(var a=[],b=0,c=this.length;b<c;b++)a[b]=this[b];return a};b.BrowserWindowsManager.prototype.getLastFocused=function(){return this._lastFocusedWindow};b.BrowserWindowsManager.prototype.close=function(a){chrome.windows.remove(a.properties.id,function(){a.properties.closed=!0;a.dequeue()})};b.BrowserWindow=function(a){b.Promise.call(this);this.properties=a||{};this._parent=null;this._tabGroups=[];this._operaId=Math.floor(1E16*Math.random());this.tabs=new b.BrowserTabsManager(this)};b.BrowserWindow.prototype=
Object.create(b.Promise.prototype);b.BrowserWindow.prototype.__defineGetter__("id",function(){return this._operaId});b.BrowserWindow.prototype.__defineGetter__("closed",function(){return this.properties.closed||!1});b.BrowserWindow.prototype.__defineGetter__("focused",function(){return this.properties.focused||!1});b.BrowserWindow.prototype.__defineGetter__("private",function(){return this.properties.incognito||!1});b.BrowserWindow.prototype.__defineGetter__("parent",function(){return this._parent});
b.BrowserWindow.prototype.insert=function(a,e){if(!this.resolved||this._parent&&!this._parent.resolved||!a.resolved||e&&!e.resolved)this.enqueue("insert",a,e);else{if(!0===this.closed)throw{name:"Invalid State Error",message:"Current window is in the closed state and therefore is invalid"};var c={windowId:this.properties.id};if(e&&e instanceof b.BrowserTab){if(!0===e.closed)throw{name:"Invalid State Error",message:"'child' attribute is in the closed state and therefore is invalid"};if(e._windowParent&&
!0===e._windowParent.closed)throw{name:"Invalid State Error",message:"Parent window of 'child' attribute is in the closed state and therefore is invalid"};c.windowId=e._windowParent?e._windowParent.properties.id:c.windowId;c.index=e.position}if(a instanceof b.BrowserTab){var d=this;chrome.tabs.move(a.properties.id,c,function(){d.dequeue()})}}};b.BrowserWindow.prototype.focus=function(){!this.resolved||this._parent&&!this._parent.resolved?this.enqueue("focus"):chrome.windows.update(this.properties.id,
{focused:!0},function(){this.dequeue()})};b.BrowserWindow.prototype.update=function(a){if(!this.resolved||this._parent&&!this._parent.resolved)this.enqueue("update",a);else{for(var b in a)this.properties[b]=a[b];chrome.windows.update(this.properties.id,a,function(){this.dequeue()})}};b.BrowserWindow.prototype.close=function(){!this.resolved||this._parent&&!this._parent.resolved?this.enqueue("close"):b.windows.close(this)};b.BrowserTabsManager=function(a){b.Promise.call(this);this.length=0;this._lastFocusedTab=
null;this._parent=a;this.replaceTabs=function(a){for(var c=0,d=this.length;c<d;c++)delete this[c];c=this.length=0;for(d=a.length;c<d;c++)this!==b.tabs&&(a[c].properties.index=c),a[c].properties.closed=!1,this[c]=a[c];this.length=a.length};this.addTabs=function(a,c){for(var d=[],f=0,g=this.length;f<g;f++)d[f]=this[f];f=[c||d.length-1,0].concat(a);Array.prototype.splice.apply(d,f);f=0;for(g=d.length;f<g;f++)this!==b.tabs&&(d[f].properties.index=f),d[f].properties.closed=!1,this[f]=d[f];this.length=
d.length};this.removeTab=function(a){for(var c=this.length,d=[],f=-1,g=0,h=this.length;g<h;g++)d[g]=this[g],d[g].id==a.id&&(f=g);-1<f&&d.splice(f,1);a.properties.closed=!0;a._windowParent=null;g=0;for(h=d.length;g<h;g++)this!==b.tabs&&(d[g].properties.index=g),this[g]=d[g];this.length=d.length;if(c>this.length){g=this.length;for(h=c;g<h;g++)delete this[g]}}};b.BrowserTabsManager.prototype=Object.create(b.Promise.prototype);b.BrowserTabsManager.prototype.create=function(a,e,c){var a=a||{},d=c||new b.BrowserTab;
if(!this.resolved||this._parent&&!this._parent.resolved)return this.enqueue("create",a,e,d),d;a.pinned=a.locked||!1;a.active=a.focused||!1;delete a.focused;if(this._parent&&!0===this._parent.closed)throw{name:"Invalid State Error",message:"Parent window is in the closed state and therefore is invalid"};a.windowId=this._parent?this._parent.properties.id:null;if(e&&e instanceof b.BrowserTab){if(!0===e.closed)throw{name:"Invalid State Error",message:"'before' attribute is in the closed state and therefore is invalid"};
if(e._windowParent&&!0===e._windowParent.closed)throw{name:"Invalid State Error",message:"Parent window of 'before' attribute is in the closed state and therefore is invalid"};a.windowId=e._windowParent?e._windowParent.properties.id:a.windowId;a.index=e.position}var f=this;chrome.tabs.create(a,function(a){for(var c in a)d.properties[c]=a[c];var e=!0;if(a.windowId){var i=p.extension.windows;c=0;for(var j=i.length;c<j;c++)if(i[c].properties.id===a.windowId){e=!1;d._windowParent=i[c];break}}e&&(d._windowParent=
b.windows.getLastFocused());f.addTabs([d],d.properties.index);f!==b.tabs&&b.tabs.addTabs([d]);d.resolve(a);f.fireEvent(new b.Event("create",{tab:d,prevWindow:d._windowParent,prevTabGroup:null,prevPosition:-1}));f.dequeue()});return d};b.BrowserTabsManager.prototype.getAll=function(){for(var a=[],b=0,c=this.length;b<c;b++)a[b]=this[b];return a};b.BrowserTabsManager.prototype.getSelected=function(){return this._lastFocusedTab};b.BrowserTabsManager.prototype.getFocused=b.BrowserTabsManager.prototype.getSelected;
b.BrowserTabsManager.prototype.close=function(a){if(a)if(!this.resolved||this._parent&&!this._parent.resolved||!a.resolved)this.enqueue("close",a);else{var b=this;chrome.tabs.remove(a.properties.id,function(){a.dequeue();b.dequeue()})}};b.RootBrowserTabsManager=function(){b.BrowserTabsManager.call(this);var a=this;chrome.tabs.onCreated.addListener(function(e){window.setTimeout(function(){for(var c=!1,d=0,f=a.length;d<f;d++)if(a[d].properties.id==e.id){c=!0;break}if(!c){for(var c=new b.BrowserTab(e),
g=!0,h=p.extension.windows,d=0,f=h.length;d<f;d++)if(h[d].properties.id==e.windowId){g=!1;c._windowParent=h[d];break}g&&(c._windowParent=b.windows.getLastFocused());c._windowParent.tabs.addTabs([c],c.properties.index);c._windowParent.tabs.fireEvent(new b.Event("create",{tab:c,prevWindow:c._windowParent,prevTabGroup:null,prevPosition:NaN}));a.addTabs([c]);c.resolve();a.fireEvent(new b.Event("create",{tab:c,prevWindow:c._windowParent,prevTabGroup:null,prevPosition:NaN}))}},200)});chrome.tabs.onRemoved.addListener(function(e){for(var c=
-1,d=0,f=a.length;d<f;d++)if(a[d].properties.id==e){c=d;break}-1<c&&(c=(e=a[c])?e._windowParent:null,d=e?e.position:NaN,c&&c.tabs.removeTab(e),a.removeTab(e),e.fireEvent(new b.Event("close",{tab:e,prevWindow:c,prevTabGroup:null,prevPosition:d})),c&&c.tabs.fireEvent(new b.Event("close",{tab:e,prevWindow:c,prevTabGroup:null,prevPosition:d})),a.fireEvent(new b.Event("close",{tab:e,prevWindow:c,prevTabGroup:null,prevPosition:d})))});chrome.tabs.onUpdated.addListener(function(b,c){for(var d=-1,f=0,g=a.length;f<
g;f++)if(a[f].properties.id==b){d=f;break}if(!(0>d)){d=a[d];for(f in c)d.properties[f]=c[f];if(d._windowParent){for(var h=-1,f=0,g=d._windowParent.tabs.length;f<g;f++)if(d._windowParent.tabs[f].properties.id==b){h=f;break}if(-1<h)for(f in c)d._windowParent.tabs[h].properties[f]=c[f]}}});chrome.tabs.onMoved.addListener(function(e,c){for(var d=-1,f=0,g=a.length;f<g;f++)if(a[f].properties.id==e){d=f;break}if(!(0>d)){var h=(d=a[d])?d._windowParent:null;if(d){if(h){for(var i=-1,f=0,g=h.tabs.length;f<g;f++)if(h.tabs[f].properties.id==
e){i=f;break}if(-1<i){f=i;for(g=h.tabs.length;f<g;f++)h.tabs[f+1]&&(h.tabs[f]=h.tabs[f+1]);delete h.tabs[d._windowParent.length-1];h.tabs.length-=1}}f=0;for(g=b.windows.length;f<g;f++)if(b.windows[f].properties.id==c.windowId){b.windows[f].tabs.addTabs([d],c.toIndex);d._windowParent=b.windows[f];break}d.fireEvent(new b.Event("move",{tab:d,prevWindow:h,prevTabGroup:null,prevPosition:c.fromIndex}));a.fireEvent(new b.Event("move",{tab:d,prevWindow:h,prevTabGroup:null,prevPosition:c.fromIndex}))}}});
chrome.tabs.onHighlighted.addListener(function(a){for(var c=0,d=b.windows.length;c<d;c++)for(var f=0,g=b.windows[c].tabs.length;f<g;f++)for(var h=0,i=a.tabIds.length;h<i;h++)b.windows[c].tabs[f].properties.active=b.windows[c]==a.windowId&&b.windows[c].tabs[f].properties.id==a.tabIds[h]?!0:!1})};b.RootBrowserTabsManager.prototype=Object.create(b.BrowserTabsManager.prototype);b.BrowserTab=function(a,e){b.Promise.call(this);this.properties=a||{};this._windowParent=e;this._operaId=Math.floor(1E16*Math.random())};
b.BrowserTab.prototype=Object.create(b.Promise.prototype);b.BrowserTab.prototype.__defineGetter__("id",function(){return this._operaId});b.BrowserTab.prototype.__defineGetter__("closed",function(){return this.properties.closed||!1});b.BrowserTab.prototype.__defineGetter__("locked",function(){return this.properties.pinned||!1});b.BrowserTab.prototype.__defineGetter__("focused",function(){return this.properties.active||!1});b.BrowserTab.prototype.__defineGetter__("selected",function(){return this.properties.active||
!1});b.BrowserTab.prototype.__defineGetter__("private",function(){return this.properties.incognito||!1});b.BrowserTab.prototype.__defineGetter__("faviconUrl",function(){return this.properties.closed?"":this.properties.favIconUrl||""});b.BrowserTab.prototype.__defineGetter__("title",function(){return this.properties.closed?"":this.properties.title||""});b.BrowserTab.prototype.__defineGetter__("url",function(){return this.properties.closed?"":this.properties.url||""});b.BrowserTab.prototype.__defineGetter__("readyState",
function(){return this.properties.status||"loading"});b.BrowserTab.prototype.__defineGetter__("browserWindow",function(){return this._windowParent});b.BrowserTab.prototype.__defineGetter__("tabGroup",function(){return null});b.BrowserTab.prototype.__defineGetter__("position",function(){return this.properties.index||NaN});b.BrowserTab.prototype.close=function(){b.tabs.close(this)};b.BrowserTab.prototype.focus=function(){if(!this.resolved||this._windowParent&&!this._windowParent.resolved||this._windowParent&&
this._windowParent._parent&&!this._windowParent._parent.resolved)this.enqueue("focus");else{var a=this;chrome.tabs.update(this.properties.id,{active:!0},function(){a.dequeue()})}};b.BrowserTab.prototype.update=function(a){if(!this.resolved||this._windowParent&&!this._windowParent.resolved||this._windowParent&&this._windowParent._parent&&!this._windowParent._parent.resolved)this.enqueue("update",a);else{for(var b in a)this.properties[b]=a[b];a.active=a.focused||!1;a.pinned=a.locked||!1;delete a.focused;
var c=this;chrome.tabs.update(this.properties.id,a,function(){c.dequeue()})}};b.BrowserTab.prototype.refresh=function(){};b.windows=b.windows||new b.BrowserWindowsManager;b.tabs=b.tabs||new b.RootBrowserTabsManager;l.ToolbarContext=function(){b.Promise.call(this);this.resolve()};l.ToolbarContext.prototype=Object.create(b.Promise.prototype);l.ToolbarContext.prototype.createItem=function(a){return new j(a)};l.ToolbarContext.prototype.addItem=function(a){a.resolve();a.badge.resolve();a.popup.resolve();
chrome.browserAction.enable()};l.ToolbarContext.prototype.removeItem=function(a){chrome.browserAction.disable();a.fireEvent(new b.Event("remove",{}));l.toolbar.fireEvent(new b.Event("remove",{}))};var k=function(a){b.Promise.call(this);this.properties={};this.properties.textContent=a.textContent;this.properties.backgroundColor=a.backgroundColor;this.properties.color=a.color;this.properties.display=a.display;this.enqueue("apply")};k.prototype=Object.create(b.Promise.prototype);k.prototype.apply=function(){chrome.browserAction.setBadgeBackgroundColor({color:this.backgroundColor});
"block"===this.display?chrome.browserAction.setBadgeText({text:this.textContent}):chrome.browserAction.setBadgeText({text:""})};k.prototype.__defineGetter__("textContent",function(){return this.properties.textContent});k.prototype.__defineSetter__("textContent",function(a){this.properties.textContent=""+a;this.resolved&&"block"===this.properties.display&&chrome.browserAction.setBadgeText({text:""+a})});k.prototype.__defineGetter__("backgroundColor",function(){return this.properties.backgroundColor});
k.prototype.__defineSetter__("backgroundColor",function(a){this.properties.backgroundColor=""+a;this.resolved&&chrome.browserAction.setBadgeBackgroundColor({color:""+a})});k.prototype.__defineGetter__("color",function(){return this.properties.color});k.prototype.__defineSetter__("color",function(a){this.properties.color=""+a});k.prototype.__defineGetter__("display",function(){return this.properties.display});k.prototype.__defineSetter__("display",function(a){"block"===(""+a).toLowerCase()?(this.properties.display=
"block",this.resolved&&chrome.browserAction.setBadgeText({text:this.properties.textContent})):(this.properties.display="none",this.resolved&&chrome.browserAction.setBadgeText({text:""}))});var n=function(a){b.Promise.call(this);this.properties={};this.properties.href=a.href||"";this.properties.width=a.width;this.properties.height=a.height;this.enqueue("apply")};n.prototype=Object.create(b.Promise.prototype);n.prototype.apply=function(){chrome.browserAction.setPopup({popup:this.href})};n.prototype.__defineGetter__("href",
function(){return this.properties.href});n.prototype.__defineSetter__("href",function(a){this.properties.href=""+a;this.resolved&&chrome.browserAction.setPopup({popup:""+a})});n.prototype.__defineGetter__("width",function(){return this.properties.width});n.prototype.__defineSetter__("width",function(a){this.properties.width=a});n.prototype.__defineGetter__("height",function(){return this.properties.height});n.prototype.__defineSetter__("height",function(a){this.properties.height=a});var j=function(a){b.Promise.call(this);
this.properties={};this.properties.disabled=a.disabled||!1;this.properties.title=a.title||"";this.properties.icon=a.icon||"";this.properties.popup=new n(a.popup||{});this.properties.badge=new k(a.badge||{});this.enqueue("apply");var e=this;chrome.browserAction.onClicked.addListener(function(){e.fireEvent(new b.Event("click",{}));l.toolbar.fireEvent(new b.Event("click",{}))})};j.prototype=Object.create(b.Promise.prototype);j.prototype.apply=function(){!0===this.disabled?chrome.browserAction.disable():
chrome.browserAction.enable();chrome.browserAction.setTitle({title:this.title});chrome.browserAction.setIcon({path:this.icon})};j.prototype.__defineGetter__("disabled",function(){return this.properties.disabled});j.prototype.__defineSetter__("disabled",function(a){this.properties.disabled!==a&&(!0===a||"true"===a||1===a||"1"===a?(this.properties.disabled=!0,this.resolved&&chrome.browserAction.disable()):(this.properties.disabled=!1,this.resolved&&chrome.browserAction.enable()))});j.prototype.__defineGetter__("title",
function(){return this.properties.title});j.prototype.__defineSetter__("title",function(a){this.properties.title=""+a;this.resolved&&chrome.browserAction.setTitle({title:this.title})});j.prototype.__defineGetter__("icon",function(){return this.properties.icon});j.prototype.__defineSetter__("icon",function(a){this.properties.icon=""+a;this.resolved&&chrome.browserAction.setIcon({path:this.icon})});j.prototype.__defineGetter__("popup",function(){return this.properties.popup});j.prototype.__defineGetter__("badge",
function(){return this.properties.badge});l.toolbar=l.toolbar||new l.ToolbarContext;t.opera=p})(window);
